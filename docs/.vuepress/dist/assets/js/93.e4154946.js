(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{604:function(t,s,a){"use strict";a.r(s);var n=a(38),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nuxt-服务器端渲染框架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt-服务器端渲染框架"}},[t._v("#")]),t._v(" nuxt  服务器端渲染框架")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("nuxt-login 登录 获取个人信息 配置axios 获取token 持续化存储例子 \n\nnuxt-project 实践例子 \n\nnuxt-vuex vuex状态树的使用\n")])])]),a("h2",{attrs:{id:"为什么要用nuxt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要用nuxt"}},[t._v("#")]),t._v(" 为什么要用nuxt ？")]),t._v(" "),a("p",[t._v("SEO ： 搜索引擎优化")]),t._v(" "),a("ol",[a("li",[t._v("多页面")]),t._v(" "),a("li",[t._v("title、描述、关键词")]),t._v(" "),a("li",[t._v("网站内容是怎么来的？")])]),t._v(" "),a("h2",{attrs:{id:"解决方式一-预渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方式一-预渲染"}},[t._v("#")]),t._v(" 解决方式一：预渲染")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("案例 nuxt/pre-rendered  \n")])])]),a("p",[a("strong",[t._v("A> 使用插件：prerender-spa-plugin")])]),t._v(" "),a("p",[t._v("1.vue项目中安装prerender-spa-plugin")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("npm install prerender-spa-plugin -S\nyarn add prerender-spa-plugin\n")])])]),a("p",[t._v("2.vue.config.js进行配置")]),t._v(" "),a("p",[a("strong",[t._v("B> 修改title描述关键词：vue-meta-info")])]),t._v(" "),a("p",[t._v("1.下载")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("npm install vue-meta-info -S\nyarn add vue-meta-info\n")])])]),a("p",[t._v("2.到页面组件中配置")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" MetaInfo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-meta-info'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("metaInfo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'小鹿线官网'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("meta")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("               \n\t\t        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'关键字,web前端'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'描述'")]),t._v("\n\t\t    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("可以解决：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("1. 打包多页面\n2. 可以解决每个页面单独生成title描述关键词 [vue-meta-info]\n3. 接口数据是在html生成之前就放在页面上的，爬虫可以抓取到内容\n")])])]),a("p",[t._v("存在的问题：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("1. 预渲染无法配置动态路由\n2. 如果title描述关键词来自于接口的数据，配置到meta-info也是不行的\n")])])]),a("p",[t._v("适合做什么项目：一个项目可能某几个页面需要做seo")]),t._v(" "),a("p",[t._v("可能遇到问题 ： 页面内容 也就是接口获取的数据没有打包到页面上  改用用hash可在serve 看到效果")]),t._v(" "),a("h2",{attrs:{id:"_4-5-解决方式二-服务端渲染-通过ssr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-解决方式二-服务端渲染-通过ssr"}},[t._v("#")]),t._v(" 4-5 解决方式二：服务端渲染（通过SSR）")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("适合做什么项目：一个项目可能所有页面都要做seo\t\n")])])]),a("h3",{attrs:{id:"解决seo的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决seo的问题"}},[t._v("#")]),t._v(" 解决seo的问题：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("前后端不分离")]),t._v(" "),a("p",[t._v("压力在后端 ，好处：安全")])]),t._v(" "),a("li",[a("p",[t._v("前后端分离的")]),t._v(" "),a("p",[t._v("2.1 spa单页面应用[vue-cli本身处理不了seo]")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v(" 压力客户端\n")])])]),a("p",[t._v("2.2 预渲染")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v(" 压力客户端\n\n 问题：\n \t1. 在html页面加载之前数据过来渲染后才有html的dom结构，这样的话可能也会存在页面空白的情况\n\n \t2. 一个项目不是所有页面都做seo\n")])])]),a("p",[t._v("2.3 服务端渲染")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v(" 压力客户端\n\n 问题：起了2个服务 [一个是后端自己语言的服务，一个是nodejs的服务]\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"_6-创建安装nuxt项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-创建安装nuxt项目"}},[t._v("#")]),t._v(" 6 创建安装nuxt项目")]),t._v(" "),a("p",[t._v("npx create-nuxt-app <项目名>\nyarn create nuxt-app <项目名>\n一、安装过程中的选项")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("Programming language\t:   程序设计语言\nPackage manager\t\t\t:   包管理器\nUI framework\t\t\t:\tui框架\nNuxt.js modules\t\t\t:   nuxt的js模块\nLinting tools\t\t\t:\t代码校验工具\nTesting framework\t\t:   测试框架\nRendering modules       :\t渲染模式\nDeployment target\t\t:   部署目标\nDevelopment tools       :   开发工具\nVersion control system  :   版本控制工具\n")])])]),a("p",[t._v("二、目录结构")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("pages  \t\t\t:  存放页面\t\n\t类似于src/views\ncomponents  \t:  存放组件\n\t类似于src/components\nstatic      \t:  存放静态资源\n\t类似于src/assets\nstore\t\t\t:  vuex状态树\n\t类似于src/store\nnuxt.config.js  : 全局的配置文件\n\t类似于vue.config.js\t\t\n")])])]),a("h2",{attrs:{id:"_7-nuxt生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-nuxt生命周期"}},[t._v("#")]),t._v(" 7 nuxt生命周期")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("nuxtServerInit( store , context ){}")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v(" 参数1  ： vuex上下文\n 参数2  ： nuxt上下文\n")])])])]),t._v(" "),a("li",[a("p",[t._v("middleware({store,route,redirect,params,query,req,res}){}")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v(" ***类似于vue中的导航守卫\n\n a>全局\n\n \tnuxt.config.js进行配置\n \trouter:{\n \t\tmiddleware:'名称'\n \t}\n\n \t新建middleware目录 ==> 文件.js\n\n b>页面\n \t\t<script>\n \t\texport default {\n \t\t  middleware:'auth'\n \t\t}\n \t\t<\/script>\n \t\t新建middleware目录 ==> 文件.js\n \t或者\n \t\t<script>\n \t\texport default {\n \t\t \tmiddleware(){\n \n \t\t\t}\n \t\t}\n \t\t<\/script>\n")])])])]),t._v(" "),a("li",[a("p",[t._v("validate({params,query}){}\n***校验url参数")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'validate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t  \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\d+$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[t._v("asyncData({store,params}){}")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v(" ***pages中的页面来请求数据的  数据用return\n")])])])]),t._v(" "),a("li",[a("p",[t._v("fetch({app,store,params}){}\n***组件中的页面来请求数据的(页面也可以用)  可用this")])])]),t._v(" "),a("p",[t._v("二、服务端和客户端共有的 生命周期")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("beforeCreate\ncreated\n")])])]),a("p",[t._v("三、客户端生命周期")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("beforeMount\nmounted\nbeforeUpdate\nupdated\nbeforeDestroy\ndestroyed\n")])])]),a("h2",{attrs:{id:"_8-nuxt路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-nuxt路由"}},[t._v("#")]),t._v(" 8 nuxt路由")]),t._v(" "),a("p",[t._v("一、自动生成")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("链接：https://www.nuxtjs.cn/guide/routing\n\n路由的跳转和vue差不多注意 <nuxt-link> 就行了\n")])])]),a("p",[t._v("二、使用router.js")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("2.1 下载 ： @nuxtjs/router\t\n\n\tnpm i @nuxtjs/router -S\n\n2.2 下载完成后在nuxt.config.js的modules模块进行配置\n\n\tmodules: [\n\t    '@nuxtjs/router'\n\t],\n\n2.3 把router文件放入nuxt项目根目录\n\n\t***必须router.js\n\n2.4 修改router.js的内容\n\n2.5 nuxtjs/router返回的内容和vue有所不同\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'history'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t    routes\n\t\t  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_9-导航守卫"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-导航守卫"}},[t._v("#")]),t._v(" 9 导航守卫")]),t._v(" "),a("p",[t._v("一、router.js")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("vue-cli中怎么用，nuxt中就怎么用，几乎一样。\n")])])]),a("p",[t._v("二、nuxtjs")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("2.1 中间件 : middleware\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a>全局")]),t._v("\n\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v(" nuxt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js进行配置\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("router")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("middleware")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth'")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v(" 新建middleware"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js文件\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'middleware'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b>局部")]),t._v("\n\t\t\t新建middleware"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js文件\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'middleware'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("middleware")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth'")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t\n\t\t\t或：\n\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("middleware")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("2.2 插件  : plugins 全局\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\t\ta"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" nuxt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js进行配置\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t\t    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'~/plugins/router.js'")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t\tb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 新建plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\tapp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" to "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("****补充：服务端不能使用localStorage和cookie的解决方案")]),t._v(" "),a("p",[t._v("参考链接：https://www.npmjs.com/package/cookie-universal-nuxt")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("安装下载")]),t._v(" "),a("p",[t._v("npm i --save cookie-universal-nuxt")])]),t._v(" "),a("li",[a("p",[t._v("nuxt.config.js进行配置")]),t._v(" "),a("p",[t._v("modules: [\n'cookie-universal-nuxt'\n]")])]),t._v(" "),a("li",[a("p",[t._v("就正常使用")]),t._v(" "),a("p",[t._v("this.$cookies.set()\nthis.$cookies.get()\n....")])])]),t._v(" "),a("h2",{attrs:{id:"_10-config配置head"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-config配置head"}},[t._v("#")]),t._v(" 10 config配置head")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\t组件局部：\n\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'关于我们_小鹿线'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("meta")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t\t\t      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'description'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'description'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'此处是网站描述'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keywords'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keywords'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'此处是网站关键词'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t\t    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"_11-nuxt配置之css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-nuxt配置之css"}},[t._v("#")]),t._v(" 11 nuxt配置之css")]),t._v(" "),a("p",[t._v("如果要使用sass需要安装：npm install --save-dev sass sass-loader@10")]),t._v(" "),a("p",[t._v("某个页面或者组件就可以使用\n")]),a("style",{attrs:{scoped:"",lang:"scss"}}),a("p"),t._v(" "),a("h2",{attrs:{id:"_12-nuxt配置之plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-nuxt配置之plugins"}},[t._v("#")]),t._v(" 12 nuxt配置之plugins")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配置element-ui 在nuxt.config.js")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("css")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./static/reset.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'element-ui/lib/theme-chalk/index.css'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Plugins to run before rendering page: https://go.nuxtjs.dev/config-plugins")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/plugins/aaa.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/plugins/element.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// plugins/element.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ElementUI "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'element-ui'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ElementUI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"_13-nuxt配置之modules和数据交互"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-nuxt配置之modules和数据交互"}},[t._v("#")]),t._v(" 13 nuxt配置之modules和数据交互")]),t._v(" "),a("p",[t._v("一、安装axios")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("1.1 npm install @nuxtjs/axios -S\n\n1.2 nuxt.config.js进行配置\n\n\tmodules: [\n\t    '@nuxtjs/axios',\n\t],\n")])])]),a("p",[t._v("二、安装axios")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("2.1 npm install axios -S\n")])])]),a("p",[t._v("三、asyncData生命周期 || 方法")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("pages 目录中的页面组件才可以去用\n\n\t***注意components内的.vue文件是不可以使用的\n\nasyncData中没有this\n")])])]),a("p",[t._v("四、fetch生命周期 || 方法")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("fetch是有this的 \n")])])]),a("h2",{attrs:{id:"_14-nuxt配置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-nuxt配置代理"}},[t._v("#")]),t._v(" 14 nuxt配置代理")]),t._v(" "),a("p",[t._v("一、安装")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("npm install @nuxtjs/axios @nuxtjs/proxy -S\n")])])]),a("p",[t._v("二、nuxt.config.js进行配置")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("modules: [\n    '@nuxtjs/axios',\n    '@nuxtjs/proxy'\n],\naxios:{\n    //是否可以跨域\n    proxy:true,\n    //retry:{ retries:3 },\n    //baseUr: process.env._ENV == 'production'? 'xxx' ? 'xxx'\n},\nproxy:{\n    '/api':{\n      target:'http://localhost:4000',\n      pathRewrite:{\n        '^/api':'',\n      }\n    }\n},\n")])])]),a("h2",{attrs:{id:"_15-16-nuxt配置之loading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-16-nuxt配置之loading"}},[t._v("#")]),t._v(" 15-16 nuxt配置之loading")]),t._v(" "),a("p",[t._v("一、nuxtjsloading默认是开启的，也可以关闭")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("nuxt.config.js中\nloading:false\n")])])]),a("p",[t._v("二、也可以自定义")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("loading: '~/components/loading.vue',\n\nloading.vue中写入对应的内容\n\n查看api：https://www.nuxtjs.cn/api/configuration-loading\n")])])]),a("p",[t._v("三、你也可以不用nuxtjs的loading")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("loading:false\n\n自己在axios中进行封装\n")])])]),a("h2",{attrs:{id:"基础学完分割线"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础学完分割线"}},[t._v("#")]),t._v(" --- 基础学完分割线 ---")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("下面重构是针对已有cli项目 进行 nuxtjs重构 （参考） \n")])])]),a("h2",{attrs:{id:"_17-18-项目重构-路由配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-18-项目重构-路由配置"}},[t._v("#")]),t._v(" 17-18  项目重构-路由配置")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("一、安装下载nuxtjs\n\nnpx create-nuxt-app\n\n***下载的时候什么都不安装\n")])])]),a("p",[t._v("二、配置路由")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("2.1 下载\n\n\tnpm install @nuxtjs/router -S\n\n2.2 在nuxt.config.js配置\n\n\tmodules:[\n\t\t'@nuxtjs/router'\n\t]\n\n2.3 把vue-cli中的router文件拷贝到nuxt项目根目录\n\n2.4 修改最后返回\n\n\texport function createRouter(){\n\t    return new Router({\n\t      mode: \"history\",\n\t      routes,\n\t    });\n\t}\n")])])]),a("h2",{attrs:{id:"_19-35-代理和扩展-axios解耦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-35-代理和扩展-axios解耦"}},[t._v("#")]),t._v(" 19-35 代理和扩展$axios解耦")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("20 引入vuex和组件重构\n")])])]),a("p",[t._v("一、安装下载nuxtjs")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("npx create-nuxt-app\n\n***下载的时候什么都不安装\n")])])]),a("p",[t._v("二、配置路由")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("2.1 下载\n\n\tnpm install @nuxtjs/router -S\n\n2.2 在nuxt.config.js配置\n\n\tmodules:[\n\t\t'@nuxtjs/router'\n\t]\n\n2.3 把vue-cli中的router文件拷贝到nuxt项目根目录\n\n2.4 修改最后返回\n\n\texport function createRouter(){\n\t    return new Router({\n\t      mode: \"history\",\n\t      routes,\n\t    });\n\t}\n")])])]),a("p",[t._v("三、请求接口")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("3.1 先解决跨域的问题,并且安装axios\n\n\ta>安装下载\n\n\t\tnpm install @nuxtjs/axios @nuxtjs/proxy -S\n\n\tb>nuxt.config.js配置\n\n\t\tmodules: [\n\t\t    '@nuxtjs/router',\n\t\t    '@nuxtjs/axios',\n\t\t    '@nuxtjs/proxy'\n\t\t],\n\n3.2 设置代理解决跨域的问题 : nuxt.config.js\n\n\taxios:{\n\t    proxy:true\n\t},\n\tproxy:{\n\t    '/api':{\n\t        target:'http://testapi.xuexiluxian.cn',\n\t    }\n\t},\n\n3.3 axios二次封装\n\n\ta>配置 : nuxt.config.js\n\n\t\tplugins: [\n\t\t    '~/plugins/axios',\n\t\t],\n\tb>新建文件：根目录下新建plugins/axios.js\n\n\tc>axios.js\n\t\texport default ( {$axios} )=>{\n\t\t\t$axios.onRequest(config=>{\n\t\t\t\treturn config;\n\t\t\t})\n\t\t\t$axios.onResponse(response=>{\n\t\t\t\treturn response.data;\n\t\t\t})\n\t\t}\n\t\t参考链接：https://axios.nuxtjs.org/helpers\n\n3.4 解耦合\n\n\ta>配置: nuxt.config.js\n\n\t\tplugins: [\n\t\t    '~/plugins/axios',\n\t\t    '~/api/xxx'\n\t\t],\n\tb>xxx.js中写入\n\n\t\texport default ({$axios},inject)=>{\n\n\t\t\tinject('getFirstCategorys',()=>$axios({\n\t\t\t\turl:'/api/course/category/getFirstCategorys',\n\t\t        method:'GET',\n\t\t\t}))\n\n\t\t}\n\t\t\n\tc>页面或者组件请求\n\n\t\tasync asyncData( app ){\n\t\t    let res = await app.$getFirstCategorys();\n\t\t    return {\n\t\t    \tlist:res.data.list\n\t\t\t}\n\t\t}\n")])])]),a("p",[t._v("四、vuex进行引入")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("把vue-cli的store进入到nuxtjs项目中，修改store的返回：\n\n\tconst store = ()=> new Vuex.Store({\n\t  \tmodules: {\n\t\t  \tuser,\n\t      \tcaseInfomation\n\t  \t}\n\t});\n\n\texport default store;\n")])])]),a("p",[t._v("五、引入当前需要的模块")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("加密解密：crypto-js\nelement-ui : \n\t\t1. 安装下载：npm i element-ui -S\n\t\t2. 配置：nuxt.config.js中的plugins\n\t\t\tplugins: [\n\t\t\t\t'~/plugins/element'\n\t\t\t]\n\t\t3. 在根目录的plugins/element.js新建文件\n\t\t\timport Vue from 'vue';\n\t\t\timport ElementUI from 'element-ui';\n\t\t\tVue.use(ElementUI);\n\n\t\t4. 配置css ： nuxt.config.js中的css\n\t\t\tcss: [\n\t\t\t    'element-ui/lib/theme-chalk/index.css',\n\t\t\t],\n")])])]),a("p",[t._v("六、把token做持久化存储")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("1. 下载\n\tnpm install cookie-universal-nuxt -S\n2. 配置:nuxt.config.js\n\n\tmodules: [\n    \t'cookie-universal-nuxt'\n \t],\n\n3. 操作\n\n\tthis.$cookies.get()\n\tthis.$cookies.set()\n\tthis.$cookies.remove()\n")])])]),a("p",[t._v("七、添加中间件,读取token")]),t._v(" "),a("p",[t._v("八、项目上线")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("1. 执行:npm run build \n2. 将打包好的\n\n\t.nuxt  ==>隐藏文件\n\tstatic \n\tnuxt.config.sj\n\tpackage.json\n\n\t把以上文件丢到服务器某个文件夹中，并且在服务器安装node环境\n\n3. 在服务器上执行 npm install \n\n4. 在服务器运行项目 npm run start \n\n\t打开的也是localhost:3000\n\n\t我们需要使用nginx做代理 ==> www.xuexiluxian.cn\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"登录测试账号-test-、-admin123"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录测试账号-test-、-admin123"}},[t._v("#")]),t._v(" 登录测试账号：test 、 admin123")])])}),[],!1,null,null,null);s.default=e.exports}}]);